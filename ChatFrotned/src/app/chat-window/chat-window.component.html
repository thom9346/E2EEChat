<div class="chat-layout">
  <div class="user-list-container">
    <app-user-list (userSelected)="onUserSelected($event)"></app-user-list>
  </div>
  <div class="chat-container" *ngIf="selectedRecipient">
    <div class="chat-header" style="display: flex; justify-content: space-between; align-items: center;">
      <h2>Chat with {{ selectedRecipient.username }}</h2>
      <button mat-button color="warn" (click)="logout()">Logout</button>
    </div>
    <div #messagesContainer class="messages-container">
      <mat-list>
        <div *ngFor="let message of messages" class="message-item" [ngClass]="{'my-message': message.senderId === currentUser.nameid, 'their-message': message.senderId !== currentUser.nameid}">
          <div class="message-bubble">
            {{ message.content }}
          </div>
        </div>
      </mat-list>
    </div>
    <app-chat-input [recipient]="selectedRecipient"></app-chat-input>
  </div>
</div>
